<% provide(:title, @user.username) %>
<div class="w-full max-w-7xl p-6 m-auto mx-auto bg-white rounded-lg shadow-md dark:bg-gray-800">
  <%# 2 columns when width >= md %>
  <div class="flex flex-col lg:flex-row lg:gap-4">
    <%# User Profile %>
    <div class="mb-4 w-full lg:w-80 md:flex-none">
      <h3 class="text-2xl font-bold text-gray-600 dark:text-gray-200">
        <%= @user.display_name %>
      </h3>
      <p class="text-gray-600 dark:text-gray-200"><%= @user.username %></p>
      <% if current_user == @user %>
        <div class="mt-6 flex justify-center">
          <%= link_to edit_user_path(@user), class: "w-full" do %>
            <button class="w-full px-6 py-2.5 text-sm font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-blue-600 rounded-lg hover:bg-gray-500 focus:outline-none focus:ring focus:ring-ring-300 focus:ring-opacity-80">
              Edit profile
            </button>
          <% end %>
        </div>
      <% end %>
    </div>

    <%# List of user's dungeons %>
    <div class="w-full md:flex-1">
      <h2 class="text-lg font-medium text-gray-800 dark:text-white">Dungeons</h2>

      <%# REFACTOR: divide into a partial %>
      <%= render partial: "dungeons/table", locals: { dungeons: @dungeons } %>
    </div>
  </div>
</div>
